<div class="buttonConfig-container">

  <div class="title">
    <h1>CADASTRO DE BOTÃ•ES</h1>
  </div>

  <div class="filters">

    <div class="select-plc">
      <mat-form-field>
        <mat-select placeholder="SELECIONE O PLC" [(ngModel)]="searchTerm.plc"
          (selectionChange)="getButtonsByPLC(searchTerm.plc)">
          <mat-option *ngFor="let plc of config.plcs" [value]="plc"> {{plc}} </mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="select-controller">
      <mat-form-field>
        <mat-select placeholder="SELECIONE A CONTROLADORA" [(ngModel)]="searchTerm.controller"
          (selectionChange)="getButtonsByController(searchTerm.controller)">
          <mat-option *ngFor="let c of controllers" [value]="c"> {{c}} </mat-option>
        </mat-select>
      </mat-form-field>
    </div>

  </div>


  <div class='button-wrapper'>
    <a routerLink='./create' id='btn-new' mat-raised-button color='primary'>
      <mat-icon> add </mat-icon> CADASTRAR
    </a>
    <button id='btn-refresh' mat-raised-button color='accent' (click)='refresh()'>
      <mat-icon>refresh</mat-icon> ATUALIZAR
    </button>
  </div>

  <hr>

  <div class='table-container'>

    <table id='button-table'>

      <th *ngFor='let header of headers' class='header-{{header}}'>
        {{ header }}
      </th>

      <tr *ngFor='let button of filteredButtons; let i = index  '>

        <td> {{ button.plc }} </td>
        <td> {{ button.buttonId }}</td>
        <td class='controller-collumn'> {{ button.controllerId }} </td>
        <td> {{ button.buttonNode }} </td>
        <td class='part-number-collumn'> {{ button.partNumber }} </td>
        <td> {{ button.stationId }} </td>
        <td class="cor-{{ colors[button.color]}}"> {{ colors[button.color] }}</td>
        <td> {{ button.direction }}</td>

        <td>
          <a mat-raised-button color='accent' [routerLink]="['edit', button._id]">
            <mat-icon>edit</mat-icon>
          </a>
        </td>

        <td>
          <button mat-raised-button color='warn' (click)='delete(button)'>
            <mat-icon class='delete-icon'>delete</mat-icon>
          </button>
        </td>

      </tr>


    </table>

  </div>

  <hr>
</div>
